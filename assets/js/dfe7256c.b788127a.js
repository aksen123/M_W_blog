"use strict";(self.webpackChunkm_wblog=self.webpackChunkm_wblog||[]).push([[823],{4544:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/image-913a4e0713f1bf4ff2f1480d12f97676.png"},5889:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>a,frontMatter:()=>s,metadata:()=>o,toc:()=>t});const o=JSON.parse('{"id":"Docker/docker2","title":"1\uc8fc\ucc28-\ub3c4\ucee4 \uc2e4\uc2b5","description":"\ub3c4\ucee4-\ucfe0\ubc84\ub124\ud2f0\uc2a4-\uc2a4\ud130\ub514 1\uc8fc\ucc28","source":"@site/docs/Docker/docker2.md","sourceDirName":"Docker","slug":"/Docker/docker2","permalink":"/M_W_blog/docs/Docker/docker2","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"docker","permalink":"/M_W_blog/docs/tags/docker"},{"inline":true,"label":"container","permalink":"/M_W_blog/docs/tags/container"},{"inline":true,"label":"\ub3c4\ucee4","permalink":"/M_W_blog/docs/tags/\ub3c4\ucee4"},{"inline":true,"label":"\ucfe0\ubc84\ub124\ud2f0\uc2a4","permalink":"/M_W_blog/docs/tags/\ucfe0\ubc84\ub124\ud2f0\uc2a4"},{"inline":true,"label":"\uc2a4\ud130\ud2f0","permalink":"/M_W_blog/docs/tags/\uc2a4\ud130\ud2f0"}],"version":"current","frontMatter":{"title":"1\uc8fc\ucc28-\ub3c4\ucee4 \uc2e4\uc2b5","description":"\ub3c4\ucee4-\ucfe0\ubc84\ub124\ud2f0\uc2a4-\uc2a4\ud130\ub514 1\uc8fc\ucc28","tags":["docker","container","\ub3c4\ucee4","\ucfe0\ubc84\ub124\ud2f0\uc2a4","\uc2a4\ud130\ud2f0"]},"sidebar":"tutorialSidebar","previous":{"title":"1\uc8fc\ucc28-\ub3c4\ucee4 \uc18c\uac1c","permalink":"/M_W_blog/docs/Docker/docker1"},"next":{"title":"Docusaurus","permalink":"/M_W_blog/docs/category/docusaurus"}}');var l=r(4848),d=r(8453);const s={title:"1\uc8fc\ucc28-\ub3c4\ucee4 \uc2e4\uc2b5",description:"\ub3c4\ucee4-\ucfe0\ubc84\ub124\ud2f0\uc2a4-\uc2a4\ud130\ub514 1\uc8fc\ucc28",tags:["docker","container","\ub3c4\ucee4","\ucfe0\ubc84\ub124\ud2f0\uc2a4","\uc2a4\ud130\ud2f0"]},i="\ud83d\udc33 Docker \ub124\ud2b8\uc6cc\ud06c \uc2e4\uc2b5 \uc815\ub9ac",c={},t=[{value:"\u2699\ufe0f \uc2e4\uc2b5 \ud658\uacbd \uad6c\uc131",id:"\ufe0f-\uc2e4\uc2b5-\ud658\uacbd-\uad6c\uc131",level:2},{value:"\ud544\uc694\ud55c \uc2e4\uc2b5 \uad6c\uc131",id:"\ud544\uc694\ud55c-\uc2e4\uc2b5-\uad6c\uc131",level:3},{value:"\ud83d\udd10\ud0a4 \ud398\uc5b4 \uc0dd\uc131",id:"\ud0a4-\ud398\uc5b4-\uc0dd\uc131",level:3},{value:"\ud83e\uddfe CloudFormation \uc2e4\ud589 \ubc29\ubc95 (\ucf58\uc194 \uae30\uc900)",id:"-cloudformation-\uc2e4\ud589-\ubc29\ubc95-\ucf58\uc194-\uae30\uc900",level:3},{value:"\u2705 Docker \uc124\uce58 \ubc0f \uae30\ubcf8 \uc124\uc815",id:"-docker-\uc124\uce58-\ubc0f-\uae30\ubcf8-\uc124\uc815",level:2},{value:"\ud83e\udde0 \ub9ac\ub205\uc2a4 \ud504\ub85c\uc138\uc2a4 \uc815\ubcf4 \ud655\uc778",id:"-\ub9ac\ub205\uc2a4-\ud504\ub85c\uc138\uc2a4-\uc815\ubcf4-\ud655\uc778",level:2},{value:"\ud83d\udccc \uc8fc\uc694 \uba85\ub839\uc5b4",id:"-\uc8fc\uc694-\uba85\ub839\uc5b4",level:3},{value:"\ud83c\udf10 Docker \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub4dc \uc815\ubcf5\ud558\uae30",id:"-docker-\ub124\ud2b8\uc6cc\ud06c-\ubaa8\ub4dc-\uc815\ubcf5\ud558\uae30",level:2},{value:"\ud83d\udce6 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub4dc \uc885\ub958 \ubc0f \ud655\uc778",id:"-\ub124\ud2b8\uc6cc\ud06c-\ubaa8\ub4dc-\uc885\ub958-\ubc0f-\ud655\uc778",level:3},{value:"\ud83d\udd0c Bridge \ubaa8\ub4dc \uc2e4\uc2b5",id:"-bridge-\ubaa8\ub4dc-\uc2e4\uc2b5",level:3},{value:"\ud83d\udef0 \uc678\ubd80 \ud1b5\uc2e0 \ud655\uc778",id:"-\uc678\ubd80-\ud1b5\uc2e0-\ud655\uc778",level:3},{value:"\ud83d\udee0 Host &amp; None \ubaa8\ub4dc \uc2e4\uc2b5",id:"-host--none-\ubaa8\ub4dc-\uc2e4\uc2b5",level:2},{value:"\ud83c\udfe0 Host \ubaa8\ub4dc",id:"-host-\ubaa8\ub4dc",level:3},{value:"\ud83d\udeab None \ubaa8\ub4dc",id:"-none-\ubaa8\ub4dc",level:3},{value:"Docker \ucee8\ud14c\uc774\ub108 \ubcf4\uc548",id:"docker-\ucee8\ud14c\uc774\ub108-\ubcf4\uc548",level:2},{value:"\ud83d\udc64 Root vs Non-root \ucee8\ud14c\uc774\ub108",id:"-root-vs-non-root-\ucee8\ud14c\uc774\ub108",level:3},{value:"\u2705 root \uc720\uc800\ub85c \uc2e4\ud589",id:"-root-\uc720\uc800\ub85c-\uc2e4\ud589",level:4},{value:"\u2705 non-root \uc720\uc800\ub85c \uc2e4\ud589",id:"-non-root-\uc720\uc800\ub85c-\uc2e4\ud589",level:4},{value:"\ud83d\udd10 Docker \ud074\ub77c\uc774\uc5b8\ud2b8 \uc778\uc99d (OPA)",id:"-docker-\ud074\ub77c\uc774\uc5b8\ud2b8-\uc778\uc99d-opa",level:3},{value:"OPA Plugin \ud65c\uc131\ud654 \uc2e4\uc2b5",id:"opa-plugin-\ud65c\uc131\ud654-\uc2e4\uc2b5",level:4}];function h(e){const n={admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"-docker-\ub124\ud2b8\uc6cc\ud06c-\uc2e4\uc2b5-\uc815\ub9ac",children:"\ud83d\udc33 Docker \ub124\ud2b8\uc6cc\ud06c \uc2e4\uc2b5 \uc815\ub9ac"})}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsx)(n.p,{children:"\uc774 \ubb38\uc11c\ub294 AWS EC2 Ubuntu \uc11c\ubc84\ub97c \ud65c\uc6a9\ud558\uc5ec Docker \ub124\ud2b8\uc6cc\ud06c\uc640 \uad00\ub828\ub41c \ub2e4\uc591\ud55c \uc2e4\uc2b5\uc744 \uc218\ud589\ud55c \ub0b4\uc6a9\uc744 \uc815\ub9ac\ud55c \uac83\uc774\ub2e4."})}),"\n",(0,l.jsx)(n.h2,{id:"\ufe0f-\uc2e4\uc2b5-\ud658\uacbd-\uad6c\uc131",children:"\u2699\ufe0f \uc2e4\uc2b5 \ud658\uacbd \uad6c\uc131"}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsx)(n.p,{children:"\ubcf8 \uc2e4\uc2b5\uc5d0\uc11c\ub294 AWS\uc758 CloudFormation\uc744 \ud65c\uc6a9\ud558\uc5ec EC2, VPC, \ubcf4\uc548 \uadf8\ub8f9, Docker \ub4f1 \uc2e4\uc2b5\uc5d0 \ud544\uc694\ud55c \ud658\uacbd\uc744 \uc790\ub3d9\uc73c\ub85c \uad6c\uc131\ud588\ub2e4."}),(0,l.jsx)(n.p,{children:"\uacbd\ubcf4\ub2d8\uc774 \uc81c\uacf5\ud574\uc8fc\uc2e0 \ud15c\ud50c\ub9bf \ub9c1\ud06c\ub97c \ud65c\uc6a9\ud558\uba74, \ubcf5\uc7a1\ud55c \uc124\uc815 \uc5c6\uc774\ub3c4 \uc2e4\uc2b5\uc5d0 \ud544\uc694\ud55c \uc778\ud504\ub77c\uac00 \uc790\ub3d9\uc73c\ub85c \ub9cc\ub4e4\uc5b4\uc9d0."})]}),"\n",(0,l.jsx)(n.h3,{id:"\ud544\uc694\ud55c-\uc2e4\uc2b5-\uad6c\uc131",children:"\ud544\uc694\ud55c \uc2e4\uc2b5 \uad6c\uc131"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"VPC 1\uac1c (\ud37c\ube14\ub9ad \uc11c\ube0c\ub137 2\uac1c)"}),"\n",(0,l.jsx)(n.li,{children:"EC2 \uc778\uc2a4\ud134\uc2a4 1\ub300 (Ubuntu 22.04, t3.small)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\ud0a4-\ud398\uc5b4-\uc0dd\uc131",children:"\ud83d\udd10\ud0a4 \ud398\uc5b4 \uc0dd\uc131"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"EC2 > \ub124\ud2b8\uc6cc\ud06c \ubc0f \ubcf4\uc548 > \ud0a4 \ud398\uc5b4 > \ud0a4 \ud398\uc5b4 \uc0dd\uc131"}),(0,l.jsx)(n.br,{}),"\n","\ud30c\uc77c \ud615\uc2dd\uc744 .pme\uc73c\ub85c \uc124\uc815\ud558\uace0 \ud0a4\ud398\uc5b4\ub97c \uc0dd\uc131\ud558\uba74 \ud30c\uc77c\uc744 \ub2e4\uc6b4\ubc1b\uc744\uc218 \uc788\uac8c \ub41c\ub2e4."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"\ud0a4\ud398\uc5b4 \uc0dd\uc131 \ud654\uba74",src:r(4544).A+"",width:"1657",height:"634"})}),"\n",(0,l.jsx)(n.h3,{id:"-cloudformation-\uc2e4\ud589-\ubc29\ubc95-\ucf58\uc194-\uae30\uc900",children:"\ud83e\uddfe CloudFormation \uc2e4\ud589 \ubc29\ubc95 (\ucf58\uc194 \uae30\uc900)"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"AWS Console > CloudFormation > \uc2a4\ud0dd \uc0dd\uc131"}),"\n",(0,l.jsx)(n.li,{children:"\ud15c\ud50c\ub9bf \uc9c0\uc815 > \ud15c\ud50c\ub9bf \uc18c\uc2a4 > Amazon S3 URL > \uc81c\uacf5\ud574 \uc8fc\uc2e0 URL \ub123\uae30 > \ub2e4\uc74c"}),"\n",(0,l.jsxs)(n.li,{children:["\uc2a4\ud0dd \uc138\ubd80\uc815\ubcf4 \uc9c0\uc815 \ud30c\ub77c\ubbf8\ud130 \uc785\ub825:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"KeyName"}),": \ub0b4 \ud0a4\ud398\uc5b4 \uc774\ub984"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"SgIngressSshCidr"}),": \ub0b4 \uacf5\uc778 IP \uc8fc\uc18c + ",(0,l.jsx)(n.code,{children:"/32"})]}),"\n",(0,l.jsxs)(n.li,{children:["(\uc120\ud0dd) ",(0,l.jsx)(n.code,{children:"MyInstanceType"}),": \uc778\uc2a4\ud134\uc2a4 \ud0c0\uc785(t3.small \ub4f1)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"\uc774\ud6c4 \uacc4\uc18d \ub2e4\uc74c\ub2e4\uc74c \ub204\ub974\uace0 \uc0dd\uc131"}),"\n",(0,l.jsx)(n.li,{children:"\uc2a4\ud0dd \uc0dd\uc131 \uc644\ub8cc \ud6c4 EC2 \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c SSH \uc811\uc18d"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ssh -i ~/.ssh/my-key.pem ubuntu@<EC2 \ud37c\ube14\ub9ad IP>\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u203b \ubcc4\ub3c4\ub85c \uc11c\ubc84 \uc124\uc815\uc774\ub098 \ub3c4\ucee4 \uc124\uce58\ub97c \uc9c1\uc811 \ud560 \ud544\uc694 \uc5c6\uc774, \ud15c\ud50c\ub9bf \uc2e4\ud589\ub9cc\uc73c\ub85c \uc644\uc804\ud55c \uc2e4\uc2b5 \ud658\uacbd\uc774 \uc900\ube44\ub41c\ub2e4.",(0,l.jsx)(n.br,{}),"\n","\ub2e8, \ud15c\ud50c\ub9bf \uc2e4\ud589 \uc804\uc5d0\ub294 SSH \ud0a4\ud398\uc5b4 \uc0dd\uc131 \ubc0f \ud604\uc7ac IP \uc8fc\uc18c \ud655\uc778\uc774 \ud544\uc694\ud568."]}),"\n",(0,l.jsx)(n.h2,{id:"-docker-\uc124\uce58-\ubc0f-\uae30\ubcf8-\uc124\uc815",children:"\u2705 Docker \uc124\uce58 \ubc0f \uae30\ubcf8 \uc124\uc815"}),"\n",(0,l.jsx)(n.p,{children:"\uc704 \uc2e4\uc2b5\ud658\uacbd \uad6c\uc131\ucc98\ub7fc \uc790\ub3d9\uc73c\ub85c \uc124\uce58 \ub418\uba74 \ud560 \ud544\uc694\ub294\uc5c6\uc9c0\ub9cc \uc5b4\uca0b\ub4e0 \uc54c\uace0\ub294 \uc788\uc5b4\uc57c \ud560\ub4ef\ud574\uc11c \uc791\uc131\ud574\ub460."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt install -y docker.io\nsudo systemctl start docker\nsudo systemctl enable docker\nsudo usermod -aG docker $USER\nnewgrp docker  # \ub610\ub294 SSH \uc7ac\uc811\uc18d\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-\ub9ac\ub205\uc2a4-\ud504\ub85c\uc138\uc2a4-\uc815\ubcf4-\ud655\uc778",children:"\ud83e\udde0 \ub9ac\ub205\uc2a4 \ud504\ub85c\uc138\uc2a4 \uc815\ubcf4 \ud655\uc778"}),"\n",(0,l.jsx)(n.p,{children:"\ub9ac\ub205\uc2a4 \ud658\uacbd\uc5d0\uc11c \ud504\ub85c\uc138\uc2a4\ub97c \uc870\ud68c, \ucd94\uc801, \ubaa8\ub2c8\ud130\ub9c1\ud558\ub294 \uae30\ubcf8 \uba85\ub839\uc5b4 \ud2b9\ud788 Docker\ub098 \uc11c\ubc84 \ud658\uacbd\uc5d0\uc11c \uc5b4\ub5a4 \ud504\ub85c\uc138\uc2a4\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0, \uc5b4\ub5a4 \uc0ac\uc6a9\uc790\uac00 \uc2e4\ud589\ud588\ub294\uc9c0 \ub4f1\uc744 \ud655\uc778\ud558\ub294 \ub370 \ub9e4\uc6b0 \uc720\uc6a9\ud558\ub2e4."}),"\n",(0,l.jsx)(n.h3,{id:"-\uc8fc\uc694-\uba85\ub839\uc5b4",children:"\ud83d\udccc \uc8fc\uc694 \uba85\ub839\uc5b4"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"center"},children:"\uba85\ub839\uc5b4"}),(0,l.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"ps"}),(0,l.jsx)(n.td,{children:"\ud604\uc7ac \uc0ac\uc6a9\uc790 \uc138\uc158\uc5d0\uc11c \uc2e4\ud589 \uc911\uc778 \ud504\ub85c\uc138\uc2a4 \ubaa9\ub85d \ucd9c\ub825"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"ps -ef"}),(0,l.jsx)(n.td,{children:"\uc804\uccb4 \uc2dc\uc2a4\ud15c\uc758 \ubaa8\ub4e0 \ud504\ub85c\uc138\uc2a4\ub97c \uc0c1\uc138\ud788 \ucd9c\ub825 (PID, \uc0ac\uc6a9\uc790, CPU/\uba54\ubaa8\ub9ac \uc0ac\uc6a9 \ub4f1 \ud3ec\ud568)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"top -d 1"}),(0,l.jsx)(n.td,{children:"\uc2e4\uc2dc\uac04\uc73c\ub85c \ud504\ub85c\uc138\uc2a4 \uc815\ubcf4\ub97c \ubaa8\ub2c8\ud130\ub9c1 (1\ucd08 \uac04\uaca9 \uc5c5\ub370\uc774\ud2b8)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"htop"}),(0,l.jsx)(n.td,{children:"top\uc758 \uac1c\uc120\ud310, \uc778\ud130\ub799\ud2f0\ube0c UI \uc81c\uacf5 (\uc124\uce58 \ud544\uc694)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"pgrep"}),(0,l.jsx)(n.td,{children:"\uc774\ub984 \ub610\ub294 \uc0ac\uc6a9\uc790 \uae30\uc900\uc73c\ub85c \ud2b9\uc815 \ud504\ub85c\uc138\uc2a4\uc758 PID\ub97c \ucc3e\ub294 \uba85\ub839"})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-docker-\ub124\ud2b8\uc6cc\ud06c-\ubaa8\ub4dc-\uc815\ubcf5\ud558\uae30",children:"\ud83c\udf10 Docker \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub4dc \uc815\ubcf5\ud558\uae30"}),"\n",(0,l.jsx)(n.h3,{id:"-\ub124\ud2b8\uc6cc\ud06c-\ubaa8\ub4dc-\uc885\ub958-\ubc0f-\ud655\uc778",children:"\ud83d\udce6 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub4dc \uc885\ub958 \ubc0f \ud655\uc778"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker network ls\ndocker info | grep Network\n"})}),"\n",(0,l.jsx)(n.p,{children:"\ub3c4\ucee4\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub4dc\ub97c \uc9c0\uc6d0\ud55c\ub2e4:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\ubaa8\ub4dc"}),(0,l.jsx)(n.th,{children:"\uc124\uba85"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Bridge"}),(0,l.jsxs)(n.td,{children:["\uae30\ubcf8\uac12. ",(0,l.jsx)(n.code,{children:"docker0"})," \ube0c\ub9ac\uc9c0 \ub124\ud2b8\uc6cc\ud06c\ub97c \uc0ac\uc6a9"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Host"}),(0,l.jsx)(n.td,{children:"\ud638\uc2a4\ud2b8 \ub124\ud2b8\uc6cc\ud06c\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"None"}),(0,l.jsx)(n.td,{children:"\ub124\ud2b8\uc6cc\ud06c\ub97c \uc544\uc608 \ube44\ud65c\uc131\ud654"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Overlay"}),(0,l.jsx)(n.td,{children:"\ub2e4\uc911 \ud638\uc2a4\ud2b8 \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131\uc744 \uc704\ud55c \ubaa8\ub4dc"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Macvlan"}),(0,l.jsx)(n.td,{children:"\ubb3c\ub9ac\uc801 NIC\uc640 \uac19\uc740 \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131\uc774 \ud544\uc694\ud55c \uacbd\uc6b0"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"IPvlan"}),(0,l.jsx)(n.td,{children:"\ub124\ud2b8\uc6cc\ud06c \uc815\ucc45 \uc81c\uc5b4\uc5d0 \ud2b9\ud654"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"-bridge-\ubaa8\ub4dc-\uc2e4\uc2b5",children:"\ud83d\udd0c Bridge \ubaa8\ub4dc \uc2e4\uc2b5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker run -it --name=kn --rm busybox\nip addr\n\ndocker run -it --name=ou --rm busybox\nip addr\n\n# ping \ud14c\uc2a4\ud2b8\nping -c 4 172.17.0.X\n"})}),"\n",(0,l.jsx)(n.h3,{id:"-\uc678\ubd80-\ud1b5\uc2e0-\ud655\uc778",children:"\ud83d\udef0 \uc678\ubd80 \ud1b5\uc2e0 \ud655\uc778"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo tcpdump -i any icmp\nping -c 1 8.8.8.8\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-host--none-\ubaa8\ub4dc-\uc2e4\uc2b5",children:"\ud83d\udee0 Host & None \ubaa8\ub4dc \uc2e4\uc2b5"}),"\n",(0,l.jsx)(n.h3,{id:"-host-\ubaa8\ub4dc",children:"\ud83c\udfe0 Host \ubaa8\ub4dc"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker run --rm -d --network host --name my_nginx nginx\ndocker inspect my_nginx\ncurl -s localhost | grep -o '<title>.*</title>'\n"})}),"\n",(0,l.jsx)(n.p,{children:"\uac19\uc740 \ud3ec\ud2b8\ub97c \uc0ac\uc6a9\ud558\ub294 \ucee8\ud14c\uc774\ub108\ub294 \uc911\ubcf5 \uc2e4\ud589\ub418\uc9c0 \uc54a\uc74c!"}),"\n",(0,l.jsx)(n.h3,{id:"-none-\ubaa8\ub4dc",children:"\ud83d\udeab None \ubaa8\ub4dc"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker run --rm -d --network none --name my_nginx nginx\ndocker exec -it my_nginx /bin/bash\nip addr\n"})}),"\n",(0,l.jsx)(n.p,{children:"\ub124\ud2b8\uc6cc\ud06c \uc5c6\uc74c. \ub0b4\ubd80\uc5d0\uc11c ping\uc774\ub098 curl \ubd88\uac00."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"docker-\ucee8\ud14c\uc774\ub108-\ubcf4\uc548",children:"Docker \ucee8\ud14c\uc774\ub108 \ubcf4\uc548"}),"\n",(0,l.jsx)(n.h3,{id:"-root-vs-non-root-\ucee8\ud14c\uc774\ub108",children:"\ud83d\udc64 Root vs Non-root \ucee8\ud14c\uc774\ub108"}),"\n",(0,l.jsx)(n.h4,{id:"-root-\uc720\uc800\ub85c-\uc2e4\ud589",children:"\u2705 root \uc720\uc800\ub85c \uc2e4\ud589"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'mkdir ~/non-root && cd ~/non-root\n\ncat << EOF >> hello.sh\n#!/bin/sh\necho "Hello from multi-architecture Docker image!"\nEOF\nchmod +x hello.sh\n\ncat << EOF >> root-dockerfile\nFROM ubuntu\nCOPY hello.sh /hello.sh\nCMD ["/hello.sh"]\nEOF\n\n# \ube4c\ub4dc \ubc0f \uc2e4\ud589\ndocker build -t root -f root-dockerfile .\ndocker run -it root /bin/bash\n\n# \ucee8\ud14c\uc774\ub108 \ub0b4\ubd80\uc5d0\uc11c \ud655\uc778\nwhoami\nid\napt update -y && apt install nginx -y\n'})}),"\n",(0,l.jsx)(n.h4,{id:"-non-root-\uc720\uc800\ub85c-\uc2e4\ud589",children:"\u2705 non-root \uc720\uc800\ub85c \uc2e4\ud589"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cat << EOF >> non-root-dockerfile\nFROM ubuntu\nRUN useradd -m -u 1001 appuser\nUSER appuser\nCOPY hello.sh /home/appuser/hello.sh\nEOF\n\n# \ube4c\ub4dc \ubc0f \uc2e4\ud589\ndocker build -t non-root -f non-root-dockerfile .\ndocker run -it non-root /bin/bash\n\n# \ucee8\ud14c\uc774\ub108 \ub0b4\ubd80\uc5d0\uc11c \ud655\uc778\nwhoami\nid\napt update -y\n"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\ubcf4\uc548\uc744 \uac15\ud654\ud558\ub824\uba74 \ucee8\ud14c\uc774\ub108\ub97c \uac00\ub2a5\ud55c non-root \uc0ac\uc6a9\uc790\ub85c \uc2e4\ud589\ud558\ub294 \uac83\uc774 \uad8c\uc7a5\ub41c\ub2e4."}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"root\ub85c \uc2e4\ud589\ub41c \ucee8\ud14c\uc774\ub108\ub294 \uc678\ubd80 \uce68\ud22c \uc2dc \ub9ac\uc2a4\ud06c\uac00 \ud07c"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-docker-\ud074\ub77c\uc774\uc5b8\ud2b8-\uc778\uc99d-opa",children:"\ud83d\udd10 Docker \ud074\ub77c\uc774\uc5b8\ud2b8 \uc778\uc99d (OPA)"}),"\n",(0,l.jsx)(n.p,{children:"Docker \uba85\ub839\uc5b4\ub97c \uc544\ubb34\ub098 \uc218\ud589\ud560 \uc218 \uc5c6\ub3c4\ub85d \uc778\uc99d \ub2e8\uacc4 \ucd94\uac00 - OPA"}),"\n",(0,l.jsx)(n.h4,{id:"opa-plugin-\ud65c\uc131\ud654-\uc2e4\uc2b5",children:"OPA Plugin \ud65c\uc131\ud654 \uc2e4\uc2b5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'docker plugin ls\n\n# \uc815\ucc45 \ub514\ub809\ud1a0\ub9ac \uc0dd\uc131\nsudo mkdir -p /etc/docker/policies\nsudo touch /etc/docker/policies/authz.rego\n\n# \ubaa8\ub4e0 \uc0ac\uc6a9\uc790\uc5d0\uac8c \ubaa8\ub450 \ud5c8\uc6a9\necho "package docker.authz\nallow = true" | sudo tee -a /etc/docker/policies/authz.rego\n\n# Docker Plugin Install - OPA (\uc218\ub77d \ud544\uc694)\nsudo docker plugin install openpolicyagent/opa-docker-authz-v2:0.4 opa-args="-policy-file /opa/policies/authz.rego"\n\n# Docker Daemon \uc124\uc815\nif [ ! -f /etc/docker/daemon.json ]; then\n  sudo touch /etc/docker/daemon.json\nfi\necho "{\n  \\"authorization-plugins\\": [\\"openpolicyagent/opa-docker-authz-v2:0.4\\"]\n}" | sudo tee -a /etc/docker/daemon.json\n\n# \uc124\uc815 \ud655\uc778\ncat /etc/docker/daemon.json\n\n# \ud50c\ub7ec\uadf8\uc778 \ud65c\uc131\ud654 \uc801\uc6a9\nsudo systemctl restart docker\n\n# \uc815\ucc45 \ubcc0\uacbd (\ubaa8\ub450 \uc0ac\uc6a9 \ubd88\uac00)\nsudo vim /etc/docker/policies/authz.rego\n# \ub0b4\uc6a9 \uc218\uc815: allow = false\n\n# Docker \uba85\ub839\uc5b4 \uc218\ud589 \ud14c\uc2a4\ud2b8\ndocker ps\n'})}),"\n",(0,l.jsx)(n.hr,{})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>i});var o=r(6540);const l={},d=o.createContext(l);function s(e){const n=o.useContext(d);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),o.createElement(d.Provider,{value:n},e.children)}}}]);